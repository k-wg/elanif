###########################################################################################################################################
############################
#################################      STOP LOSS CONDITION             ###################################
####################
##############################################################################################################################################

                    ┌─────────────────────────────┐
                    │   STOP LOSS TRIGGERED!      │
                    │   MA_200 ≤ Fibo_23.6%       │
                    └──────────────┬──────────────┘
                                   │
                                   ▼
                    ┌─────────────────────────────┐
                    │ CAPTURE Fibo_0 level        │
                    │ (store for later checks)    │
                    └──────────────┬──────────────┘
                                   │
                    ┌──────────────┴──────────────┐
                    │ CHECK TWO CONDITIONS:        │
                    └──────────────┬──────────────┘
                                   │
                    ┌──────────────┴──────────────┐
           ┌────────▼────────┐       ┌────────────▼───────┐
           │  CONDITION 1    │       │   CONDITION 2     │
           │ MA_14 ≤ Fibo_0  │       │ MA_100 ≥ MA_500   │
           └────────┬────────┘       └──────────┬────────┘
                    │                           │
                    ▼                           ▼
           ┌─────────────────┐         ┌──────────────────┐
           │ WAIT for:       │         │ WAIT for:        │
           │ MA_100 ≥ MA_200 │         │ 1. MA_100 ≤ MA_500│
           └────────┬────────┘         │ 2. MA_200 ≤ MA_500│
                    │                  └──────────┬────────┘
                    │                           │
                    ▼                           ▼
           ┌─────────────────┐                 │
           │  EXIT at market │         ┌───────▼──────┐
           │     order       │         │ Check RSI:   │
           └────────┬────────┘         │ RSI_MA50 ≥ 53│
                    │                  └───────┬──────┘
                    │                           │
                    │                  ┌───────▼──────┐
                    │                  │ WAIT for:    │
                    │                  │ RSI_MA50 ≤ 51│
                    │                  └───────┬──────┘
                    │                           │
                    │                  ┌───────▼──────┐
                    │                  │  EXIT at     │
                    │                  │ market order │
                    │                  └───────┬──────┘
                    │                           │
                    └───────────┬───────────────┘
                                │
                                ▼
                    ┌─────────────────────────────┐
                    │     STOP LOSS COMPLETE      │
                    │     Position Closed         │
                    └─────────────────────────────┘



###########################################################################################################################################
############################
#################################      STRATEGY A FLOWCHART (-1% to +4%)     ###################################
####################
##############################################################################################################################################

                    ┌─────────────────────────────┐
                    │   STRATEGY A ACTIVATION     │
                    │   Daily Diff -1% to +4%     │
                    └──────────────┬──────────────┘
                                   │
                                   ▼
                    ┌─────────────────────────────┐
                    │ CHECK ENTRY SETUPS          │
                    │ (MA_200/MA_350/MA_500 Wave) │
                    └──────────────┬──────────────┘
                                   │
                    ┌──────────────┴──────────────┐
           ┌────────▼────────┐       ┌────────────▼───────┐
           │  MA_200 WAVE    │       │  MA_350/500 WAVE   │
           │   ENTRY FLOW    │       │    ENTRY FLOW      │
           └────────┬────────┘       └──────────┬────────┘
                    │                           │
                    ▼                           ▼
           ┌─────────────────┐         ┌──────────────────┐
           │ ENTRY CONDITION:│         │ INITIAL SIGNAL:  │
           │ All MAs ≥ Fibo  │         │ All MAs ≥ Fibo   │
           │ 23.6% except    │         │ 23.6% except     │
           │ MA_200 ≤ Fibo   │         │ target MA ≤      │
           │ 23.6%           │         │ Fibo 23.6%       │
           └────────┬────────┘         └──────────┬────────┘
                    │                             │
                    ▼                             ▼
           ┌─────────────────┐         ┌──────────────────┐
           │ WAIT for:       │         │ WAIT for:        │
           │ MA_200 ≥ Fibo   │         │ Target MA ≥      │
           │ 23.6%           │         │ Fibo 23.6%       │
           └────────┬────────┘         │ (350 or 500)     │
                    │                  └──────────┬────────┘
                    ▼                             │
           ┌─────────────────┐                    ▼
           │ FINAL CHECK:    │         ┌──────────────────┐
           │ All MAs ≥ Fibo  │         │ FINAL VALIDATION:│
           │ 23.6% including │         │ Check if ALL MAs │
           │ MA_200          │         │ ≥ Fibo 23.6%     │
           └────────┬────────┘         │ including target │
                    │                  └──────────┬────────┘
                    ▼                             │
           ┌─────────────────┐                    ▼
           │ ENTER POSITION  │         ┌──────────────────┐
           │ (MA_200 Wave)   │         │ VALIDATION RESULT│
           └────────┬────────┘         └──────────┬────────┘
                    │                             │
                    ▼                             ▼
           ┌─────────────────┐         ┌──────────────────┐
           │ MA_200 WAVE     │         │ ENTRY DECISION   │
           │ EXIT LOGIC      │         │ POINT            │
           │ (Separate Path) │         │ (MA_350/500 Only)│
           └────────┬────────┘         └──────────┬────────┘
                    │                             │
                    ▼                    ┌────────┴────────┐
           ┌─────────────────┐    ┌──────▼─────┐   ┌──────▼─────┐
           │ Wait for BOTH:  │    │ VALIDATION │   │ VALIDATION │
           │ 1. MA_100 ≥     │    │   PASSED   │   │   FAILED   │
           │    Fibo 0.764   │    └──────┬─────┘   └──────┬─────┘
           │ 2. MA_500 ≥     │           │                │
           │    Fibo 0.764   │           ▼                ▼
           └────────┬────────┘    ┌─────────────┐ ┌─────────────┐
                    │             │ ENTER       │ │ RESET SIGNAL│
                    ▼             │ POSITION    │ │ Wait for    │
           ┌─────────────────┐    │ (MA_350/500 │ │ fresh signal│
           │ THEN Wait for:  │    │  Wave)      │ └─────────────┘
           │ MA_350 ≤ MA_500 │    └──────┬──────┘
           └────────┬────────┘           │
                    │                    │
                    ▼                    ▼
           ┌─────────────────┐    ┌─────────────────┐
           │ EXECUTE MARKET  │    │ POSITION OPENED │
           │ SELL ORDER      │    │ MA_350/500 Wave │
           └────────┬────────┘    └────────┬────────┘
                    │                     │
                    ▼                     ▼
           ┌─────────────────┐    ┌─────────────────┐
           │ POSITION CLOSED │    │  PHASE 1:       │
           │ (MA_200 Wave)   │    │  DUAL MONITORING│
           └─────────────────┘    │  CONSTANTLY     │
                                  │  CHECK BOTH:    │
                                  │  1. MA_200 ≥    │
                                  │      Fibo 0.764 │
                                  │  2. MA_200 ≤    │
                                  │      Fibo 0.236 │
                                  └────────┬────────┘
                                           │
                                           ▼
                                  ┌─────────────────┐
                                  │  MA_200 ≥       │
                                  │  Fibo 0.764     │
                                  │  (Event A)      │
                                  └────────┬────────┘
                                           │
                                           ▼
                                  ┌─────────────────┐
                                  │  PROCEED TO     │
                                  │  PHASE 2        │
                                  └────────┬────────┘
                                           │
                                           ▼
                                  ┌─────────────────┐
                                  │  PHASE 2:       │
                                  │  Check ALL      │
                                  │  lesser MAs     │
                                  │  (002, 007,     │
                                  │   21, 50) ≥     │
                                  │   MA_200        │
                                  └────────┬────────┘
                                           │
                                  ┌────────┴────────┐
                                  │                 │
                                  ▼                 ▼
                         ┌─────────────────┐ ┌─────────────────┐
                         │   YES           │ │   NO            │
                         │ All lesser MAs  │ │ Some lesser MAs │
                         │ ≥ MA_200        │ │ < MA_200        │
                         └────────┬────────┘ └────────┬────────┘
                                  │                   │
                                  ▼                   ▼
                         ┌─────────────────┐ ┌─────────────────┐
                         │ STEP 3 PATH     │ │  CAPTURE PATH   │
                         │ Wait for MA_100 │ │  CAPTURE        │
                         │ ≤ MA_500        │ │  Fibo_1 level   │
                         └────────┬────────┘ │  (level_100)    │
                                  │           └────────┬────────┘
                                  │                    │
                                  │                    ▼
                                  │           ┌─────────────────┐
                                  │           │  INITIATE DUAL  │
                                  │           │  MONITORING:    │
                                  │           │  Listen for TWO │
                                  │           │  SPECIFIC       │
                                  │           │  CONDITIONS:    │
                                  │           └────────┬────────┘
                                  │                    │
                                  │           ┌────────┴────────┐
                                  │           │                 │
                                  │           ▼                 ▼
                                  │   ┌─────────────┐ ┌─────────────┐
                                  │   │  CONDITION  │ │  CONDITION  │
                                  │   │     1:      │ │     2:      │
                                  │   │  MA_100 ≥   │ │  MA_200 ≤   │
                                  │   │  Captured   │ │  Fibo 0.236 │
                                  │   │  Fibo_1     │ │             │
                                  │   └──────┬──────┘ └──────┬──────┘
                                  │          │               │
                                  │          ▼               ▼
                                  │   ┌─────────────┐ ┌─────────────┐
                                  │   │  THIS       │ │  THIS       │
                                  │   │  CONDITION  │ │  CONDITION  │
                                  │   │  MET FIRST  │ │  MET FIRST  │
                                  │   └──────┬──────┘ └──────┬──────┘
                                  │          │               │
                                  │          ▼               ▼
                                  │   ┌─────────────┐ ┌─────────────┐
                                  │   │  EXECUTE    │ │  TRIGGER    │
                                  │   │  MARKET     │ │  STOP LOSS  │
                                  │   │  SELL ORDER │ │  MECHANISM  │
                                  │   │  (Capture   │ │  (MA_200 ≤  │
                                  │   │   Path Exit)│ │  Fibo 0.236)│
                                  │   └──────┬──────┘ └──────┬──────┘
                                  │          │               │
                                  │          ▼               ▼
                                  │   ┌─────────────┐ ┌─────────────┐
                                  │   │  POSITION   │ │  ACTIVATE   │
                                  │   │  CLOSED     │ │  STOP LOSS  │
                                  │   │  (Via MA_100│ │  FLOW:      │
                                  │   │   ≥ Fibo_1) │ │  1. Capture │
                                  │   └─────────────┘ │    Fibo_0   │
                                  │                   │  2. Check 2 │
                                  │                   │    conds    │
                                  │                   │  3. Exit    │
                                  │                   └──────┬──────┘
                                  │                          │
                                  │                          ▼
                                  │                  ┌─────────────┐
                                  │                  │  POSITION   │
                                  │                  │  CLOSED     │
                                  │                  │  (Via Stop  │
                                  │                  │   Loss)     │
                                  │                  └─────────────┘
                                  │
                                  ▼
                         ┌─────────────────┐
                         │ CAPTURE NEW     │
                         │ Fibo_1 at MA_100│
                         │ dip position    │
                         └────────┬────────┘
                                  │
                         ┌────────┴────────┐
                         │                 │
                         ▼                 ▼
                ┌─────────────┐ ┌─────────────┐
                │  BRANCH A   │ │  BRANCH B   │
                │ MA_500 ≥    │ │ MA_500 ≤    │
                │ Fibo 76.4%  │ │ Fibo 76.4%  │
                └──────┬──────┘ └──────┬──────┘
                       │               │
                       ▼               ▼
                ┌─────────────┐ ┌─────────────┐
                │ Wait for:   │ │ Wait for:   │
                │ MA_100 ≥    │ │ MA_350 ≥    │
                │ New Fibo_1  │ │ New Fibo_1  │
                └──────┬──────┘ └──────┬──────┘
                       │               │
                       └───────┬───────┘
                               │
                               ▼
                      ┌─────────────────┐
                      │ Wait for:       │
                      │ MA_50 ≤         │
                      │ Fibo 76.4%      │
                      └────────┬────────┘
                               │
                               ▼
                      ┌─────────────────┐
                      │ Wait for RSI    │
                      │ sequence:       │
                      │ 1. First ≥ 55   │
                      │ 2. THEN ≤ 52    │
                      └────────┬────────┘
                               │
                               ▼
                      ┌─────────────────┐
                      │ EXECUTE MARKET  │
                      │ SELL ORDER      │
                      └────────┬────────┘
                               │
                               ▼
                      ┌─────────────────┐
                      │ POSITION CLOSED │
                      │ (Step 3 Path)   │
                      └─────────────────┘


###########################################################################################################################################
############################
#################################      STRATEGY B FLOWCHART (≤ -1%)          ###################################
####################
##############################################################################################################################################

                    ┌─────────────────────────────┐
                    │   STRATEGY B ACTIVATION     │
                    │   Daily Diff ≤ -1%          │
                    └──────────────┬──────────────┘
                                   │
                                   ▼
                    ┌─────────────────────────────┐
                    │ CHECK ENTRY SETUPS          │
                    │ (MA_200/MA_350/MA_500 Wave) │
                    └──────────────┬──────────────┘
                                   │
                    ┌──────────────┴──────────────┐
           ┌────────▼────────┐       ┌────────────▼───────┐
           │  MA_200 WAVE    │       │  MA_350/500 WAVE   │
           │   ENTRY FLOW    │       │    ENTRY FLOW      │
           └────────┬────────┘       └──────────┬────────┘
                    │                           │
                    ▼                           ▼
           ┌─────────────────┐         ┌──────────────────┐
           │ ENTRY CONDITION:│         │ ENTRY CONDITION: │
           │ All MAs ≥ Fibo  │         │ All MAs ≥ Fibo   │
           │ 23.6% except    │         │ 23.6% except     │
           │ MA_200 ≤ Fibo   │         │ target MA ≤      │
           │ 23.6%           │         │ Fibo 23.6%       │
           └────────┬────────┘         │ (350 or 500)     │
                    │                  └──────────┬────────┘
                    ▼                             ▼
           ┌─────────────────┐         ┌──────────────────┐
           │ WAIT for:       │         │ WAIT for:        │
           │ MA_200 ≥ Fibo   │         │ Target MA ≥      │
           │ 23.6%           │         │ Fibo 23.6%       │
           └────────┬────────┘         └──────────┬────────┘
                    │                             │
                    ▼                             ▼
           ┌─────────────────┐         ┌──────────────────┐
           │ FINAL CHECK:    │         │ FINAL CHECK:     │
           │ All MAs ≥ Fibo  │         │ All MAs ≥ Fibo   │
           │ 23.6% including │         │ 23.6% including  │
           │ MA_200          │         │ target MA        │
           └────────┬────────┘         └──────────┬────────┘
                    │                             │
                    ▼                             ▼
           ┌─────────────────┐         ┌──────────────────┐
           │ ENTER POSITION  │         │ ENTER POSITION   │
           │ (MA_200 Wave)   │         │ (MA_350/500 Wave)│
           └────────┬────────┘         └──────────┬────────┘
                    │                             │
                    ▼                             ▼
           ┌─────────────────┐         ┌──────────────────┐
           │ MA_200 WAVE     │         │ POSITION OPENED  │
           │ EXIT LOGIC      │         │ MA_350/500 Wave  │
           │ (Strategy B)    │         └────────┬────────┘
           └────────┬────────┘                  │
                    │                           ▼
                    ▼                  ┌──────────────────┐
           ┌─────────────────┐         │ ENHANCED EXIT    │
           │ STRATEGY B      │         │ LOGIC ACTIVATED  │
           │ ENHANCED EXIT   │         │ (Strategy B      │
           │ LOGIC ACTIVATED │         │  Specific)       │
           └────────┬────────┘         └────────┬────────┘
                    │                           │
                    │                           │
                    └─────────────┬─────────────┘
                                  │
                                  ▼
                    ┌─────────────────────────────┐
                    │   STEP 1: PROFIT TARGET     │
                    │   Wait for BOTH:            │
                    │   • MA_100 ≥ Fibo 0.764     │
                    │   • MA_500 ≥ Fibo 0.764     │
                    └──────────────┬──────────────┘
                                   │
                                   ▼
                    ┌─────────────────────────────┐
                    │   STEP 2: REVERSAL SIGNAL   │
                    │   Wait for: MA_350 ≤ MA_500 │
                    │   (Signals trend reversal   │
                    │    may be starting)         │
                    └──────────────┬──────────────┘
                                   │
                                   ▼
                    ┌─────────────────────────────┐
                    │   STEP 3: CAPTURE KEY LEVEL │
                    │   CAPTURE Fibo_1 level      │
                    │   (level_100) at this exact │
                    │   moment for later reference │
                    └──────────────┬──────────────┘
                                   │
                                   ▼
                    ┌─────────────────────────────┐
                    │   STEP 4: DUAL MONITORING   │
                    │   Listen for TWO SPECIFIC   │
                    │   CONDITIONS simultaneously:│
                    │   1. MA_200 ≤ Fibo 0.236    │
                    │   2. MA_350 ≥ Captured      │
                    │      Fibo_1                 │
                    └──────────────┬──────────────┘
                                   │
                    ┌──────────────┴──────────────┐
           ┌────────▼────────┐       ┌────────────▼───────┐
           │  CONDITION 1    │       │   CONDITION 2      │
           │   MET FIRST:    │       │   MET FIRST:       │
           │  MA_200 ≤       │       │  MA_350 ≥          │
           │  Fibo 0.236     │       │  Captured Fibo_1   │
           └────────┬────────┘       └──────────┬────────┘
                    │                           │
                    ▼                           ▼
           ┌─────────────────┐         ┌──────────────────┐
           │ TRIGGER STOP    │         │ EXECUTE MARKET   │
           │ LOSS MECHANISM  │         │ SELL ORDER       │
           │ (Shared System) │         │ (Strategy B      │
           └────────┬────────┘         │  Enhanced Exit)  │
                    │                  └──────────┬────────┘
                    │                             │
                    │                             ▼
                    │                    ┌──────────────────┐
                    │                    │ POSITION CLOSED  │
                    │                    │ (Via MA_350 ≥    │
                    │                    │  Fibo_1)         │
                    │                    └──────────────────┘
                    │
                    ▼
           ┌─────────────────────────────┐
           │ STOP LOSS MECHANISM FLOW:   │
           │ 1. CAPTURE Fibo_0 level     │
           │    (level_000)              │
           └──────────────┬──────────────┘
                          │
                    ┌─────┴─────┐
                    │           │
                    ▼           ▼
           ┌─────────────┐ ┌─────────────┐
           │ CONDITION 1 │ │ CONDITION 2 │
           │  CHECK:     │ │  CHECK:     │
           │ MA_14 ≤     │ │ MA_100 ≥    │
           │ Fibo_0      │ │ MA_500      │
           └──────┬──────┘ └──────┬──────┘
                  │               │
                  ▼               ▼
           ┌─────────────┐ ┌─────────────┐
           │  PATH 1     │ │  PATH 2     │
           │ Wait for:   │ │ Wait for:   │
           │ MA_100 ≥    │ │ 1. MA_100 ≤ │
           │ MA_200      │ │    MA_500   │
           └──────┬──────┘ │ 2. MA_200 ≤ │
                  │        │    MA_500   │
                  ▼        └──────┬──────┘
           ┌─────────────┐        │
           │ EXECUTE     │        ▼
           │ MARKET      │ ┌─────────────┐
           │ SELL ORDER  │ │ Wait for:   │
           └──────┬──────┘ │ RSI_MA50 ≥53│
                  │        └──────┬──────┘
                  │               │
                  │               ▼
                  │        ┌─────────────┐
                  │        │ Wait for:   │
                  │        │ RSI_MA50 ≤51│
                  │        └──────┬──────┘
                  │               │
                  │               ▼
                  │        ┌─────────────┐
                  │        │ EXECUTE     │
                  │        │ MARKET      │
                  │        │ SELL ORDER  │
                  │        └──────┬──────┘
                  │               │
                  │               │
                  └───────┬───────┘
                          │
                          ▼
                 ┌──────────────────┐
                 │ POSITION CLOSED  │
                 │ (Via Stop Loss)  │
                 └──────────────────┘